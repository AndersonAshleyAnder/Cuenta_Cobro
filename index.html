<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cuenta de Cobro - Login</title>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

<style>
body{margin:0;font-family:Arial;background:#f2f2f2}
#loginBox{max-width:360px;margin:120px auto;background:#fff;padding:30px;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,.2)}
input,button{width:100%;padding:10px;margin:8px 0}
button{background:#000;color:#fff;border:none;cursor:pointer}
#error{color:red}
#app{display:none}
</style>
</head>
<body>

<div id="loginBox">
  <h2>üîê Iniciar sesi√≥n</h2>
  <input id="email" type="email" placeholder="Correo">
  <input id="password" type="password" placeholder="Contrase√±a">
  <button onclick="login()">Ingresar</button>
  <p id="error"></p>
</div>

<div id="app">
  <iframe src="index.html" style="width:100%;height:100vh;border:none"></iframe>
</div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyATzJRDR7EgnsL6-kOY1Qu_rxnRFuUGpc0",
  authDomain: "cuentacobroapb.firebaseapp.com",
  projectId: "cuentacobroapb",
  storageBucket: "cuentacobroapb.firebasestorage.app",
  messagingSenderId: "286353921348",
  appId: "1:286353921348:web:d4e86c917e4c443d96f311"
};

firebase.initializeApp(firebaseConfig);


firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

auth.onAuthStateChanged(user => {
  if(user){
    document.getElementById('loginBox').style.display = 'none';
    document.getElementById('app').style.display = 'block';
  }
});

function login(){
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;
  auth.signInWithEmailAndPassword(email,password)
    .catch(err => document.getElementById('error').innerText = err.message);
}
</script>

</body>
</html>
